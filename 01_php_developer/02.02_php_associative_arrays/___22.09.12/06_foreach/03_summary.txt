Решение учителя немного другое, но не лучше.